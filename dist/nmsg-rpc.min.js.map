{"version":3,"sources":["dist/nmsg-rpc.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","this","window","self","factory","apply","undefined","nmsg","rpc","__extends","d","b","__","constructor","hasOwnProperty","prototype","Object","create","util_1","Frame","data","event","args","callbacks","rid","func","timeout","getNextId","hasCallbacks","_i","_a","length","arg","isResponse","FrameOutgoing","_super","createResponse","request","cb_pos","response","processResponse","pos","callback","serialize","i","e","a","cbs","push","t","r","f","FrameIncoming","arguments","unserialize","onCallback","Error","Array","_b","_c","splice","Router","socket","_this","latency","frame","timer","api","subs","send","bind","onmessage","msg","genCallack","dispatch","getSubList","pub","method","get","list","list_1","sub","list_2","concat","sendData","setTimeout","clearTimeout","setApi","on","emit","RouterBuffered","cycle","buffer","flush","startTimer","fmsg","Api","methods","add","extend","obj1","obj2","objs"],"mappings":"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","file":"dist/nmsg-rpc.min.js"}