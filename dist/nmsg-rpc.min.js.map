{"version":3,"sources":["dist/nmsg-rpc.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","this","window","self","factory","apply","undefined","nmsg","rpc","__extends","d","b","__","constructor","hasOwnProperty","prototype","Object","create","util_1","Frame","data","event","args","callbacks","rid","func","timeout","getNextId","hasCallbacks","_i","_a","length","arg","isResponse","FrameOutgoing","_super","createResponse","request","cb_pos","response","processResponse","pos","callback","serialize","i","e","a","cbs","push","t","r","f","FrameIncoming","arguments","unserialize","onCallback","Error","Array","_b","_c","splice","Router","latency","frame","timer","onerror","api","subs","genCallack","_this","called","dispatch","pub","method","get","concat","sendData","send","setTimeout","clearTimeout","setApi","onmessage","msg","bind","on","emit","RouterBuffered","cycle","buffer","flush","startTimer","msg_1","fmsg","Api","methods","add","list","extend","obj1","obj2","objs"],"mappings":"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","file":"dist/nmsg-rpc.min.js"}